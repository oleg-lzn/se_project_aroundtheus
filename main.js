!function(){"use strict";var e=class{constructor(e,t,s,r,i){let{name:n,link:o,_id:a,isLiked:l}=e;this._name=n,this._link=o,this._isLiked=l,this._id=a,this._cardSelector=t,this._handleImageClick=s,this._handleLikeToggle=r,this.handleDeleteButton=i}_getCardTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeToggle(this._isLiked)})),this._trashButton.addEventListener("click",(()=>{this.handleDeleteButton(this)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}updateLikeStatus(e){this._isLiked=e,e?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}_renderCard(){this._cardElement=this._getCardTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._trashButton=this._cardElement.querySelector(".card__delete-button"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardTitle.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._setEventListeners(),this.updateLikeStatus(this._isLiked)}removeCard(){this._cardElement.remove()}getView(){return this._renderCard(),this._cardElement}},t=class{constructor(e,t){this._form=t,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}_setEventListeners(){this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputList.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_showInputError(e,t){const s=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),s.classList.add(this._errorClass),s.textContent=t}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._enableButton()}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e),e.value=""})),this.disableButton()}};class s{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._container=document.querySelector(t),this._renderer=r}clear(){this._container.innerHTML=""}renderItems(){this.clear(),this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}const r={formSelector:".popup__form",inputSelector:".popup__input",popupImageSelector:".popup__image",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible",closeButtonSelector:".popup__close",popup:".popup",cardsListSelector:".cards__list",cardSelector:".card"},i=(document.querySelector("#card-template").content.firstElementChild,document.querySelector(".profile")),n=(i.querySelector(".profile__title"),i.querySelector(".profile__subtitle"),document.querySelector(".popup")),o=(n.querySelector("[name=name]"),n.querySelector("[name=description]"),document.querySelector(".cards__list"),document.querySelector(".profile__avatar_container")),a=document.getElementById("addElement"),l=(a.querySelector("[name=title]"),a.querySelector("[name=url]"),document.getElementById("imageOpen")),c=(l.querySelector(".popup__image"),l.querySelector(".popup__title-small"),i.querySelector(".profile__edit-button")),d=i.querySelector(".profile__add-button");document.forms["new-card-form"],document.forms["profile-form"],document.querySelector(".spinner");var h=class{constructor(e){this.popupSelector=e,this.popupElement=document.querySelector(this.popupSelector),this._handleEscClose=this._handleEscClose.bind(this)}open(){this.popupElement.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}close(){this.popupElement.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this.popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&this.close()}))}},u=class extends h{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._popupForm=this.popupElement.querySelector(".popup__form"),this._submitButton=this._popupForm.querySelector(".popup__button"),this._defaultButtonText=this._submitButton.textContent,this._handleFormSubmit=s,this._inputList=Array.from(this._popupForm.querySelectorAll(".popup__input")),this._setEventListeners()}_getInputValues(){return this._inputList.reduce(((e,t)=>{const{name:s,value:r}=t;return e[s]=r,e}),{})}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._defaultButtonText}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}getForm(){return this._popupForm}_setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t)})),super.setEventListeners()}};const p=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseURL=t,this._headers=s}_checkTheApiResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getUserData(){return fetch(`${this._baseURL}/users/me`,{headers:this._headers}).then((e=>this._checkTheApiResponse(e)))}editProfileData(e){return fetch(`${this._baseURL}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.description})}).then((e=>this._checkTheApiResponse(e)))}getInitialCards(){return fetch(`${this._baseURL}/cards`,{headers:this._headers}).then((e=>this._checkTheApiResponse(e)))}addNewCard(e){return fetch(`${this._baseURL}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.title,link:e.url,isLiked:e.isLiked,_id:e._id})}).then((e=>this._checkTheApiResponse(e)))}deleteCard(e){return fetch(`${this._baseURL}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkTheApiResponse(e)))}likeCard(e){return fetch(`${this._baseURL}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>this._checkTheApiResponse(e)))}dislikeCard(e){return fetch(`${this._baseURL}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>this._checkTheApiResponse(e)))}avatarUpdate(e){return fetch(`${this._baseURL}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.url})}).then((e=>this._checkTheApiResponse(e)))}loadPageContent(){const e=[this.getInitialCards(),this.getUserData()];return Promise.all(e)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"fbd43f39-bc6f-4ff1-b85c-3a8e63a0b02d","Content-Type":"application/json"}});let _;function m(t){const s=new e(t,"#card-template",(function(){E.open(t),E.setEventListeners()}),(function(e){e?p.dislikeCard(t._id).then((e=>{s.updateLikeStatus(e.isLiked)})).catch((e=>console.error(e))):p.likeCard(t._id).then((e=>{s.updateLikeStatus(e.isLiked)})).catch((e=>console.error(e)))}),(function(e){S.open(t._id,e)}));return s.getView()}p.loadPageContent().then((e=>{let[t,i]=e;v.setUserInfo({name:i.name,description:i.about,avatar:i.avatar}),_=new s({items:t,renderer:e=>{const t=m(e);_.addItem(t)}},r.cardsListSelector),_.renderItems()})).catch((e=>console.error(e)));const E=new class extends h{constructor(e){super(e),this.imageElement=this.popupElement.querySelector(".popup__image"),this.captionElement=this.popupElement.querySelector(".popup__title-small")}open(e){let{link:t,name:s}=e;this.imageElement.src=t,this.imageElement.alt=s,this.captionElement.textContent=s,super.open()}}("#imageOpen"),S=new class extends h{cardId=null;constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._popupForm=this.popupElement.querySelector(".popup__form"),this.handleFormSubmit=s,this._setEventListeners()}_setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this.handleFormSubmit&&"function"==typeof this.handleFormSubmit&&this.handleFormSubmit(this.cardId,this.cardElement)})),super.setEventListeners()}setCardId(e){this.cardId=e}setCardElement(e){this.cardElement=e}open(e,t){this.setCardId(e),this.setCardElement(t),super.open()}}({popupSelector:"#cardDelete",handleFormSubmit:(e,t)=>{p.deleteCard(e).then((()=>{t.removeCard(),S.setCardId(null),S.close()})).catch((e=>console.error("Error deleting the card",e)))}}),L=new u({popupSelector:"#addElement",handleFormSubmit:e=>{L.renderLoading(!0),p.addNewCard(e).then((e=>{const t=m({name:e.name,link:e.link,_id:e._id,isLiked:e.isLiked});_.addItem(t),g["new-card-form"].disableButton(),L.getForm().reset(),L.close()})).catch((e=>console.error(e))).finally((()=>L.renderLoading(!1)))}});d.addEventListener("click",(()=>{L.open()}));const f=new u({popupSelector:"#profileChange",handleFormSubmit:e=>{f.renderLoading(!0),p.editProfileData(e).then((e=>{v.setUserInfo({name:e.name,description:e.about}),f.close()})).catch((e=>console.error(e))).finally((()=>f.renderLoading(!1)))}}),v=new class{constructor(e){let{nameSelector:t,descriptionSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._descriptionElement=document.querySelector(s),this._avatarElement=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,description:this._descriptionElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,description:s,avatar:r}=e;this._nameElement.textContent=t,this._descriptionElement.textContent=s,r&&this.setNewAvatar({avatar:r})}setNewAvatar(e){this._avatarElement.src=e.avatar}}({nameSelector:".profile__title",descriptionSelector:".profile__subtitle",avatarSelector:".profile__avatar"}),b=new u({popupSelector:"#profilePicChange",handleFormSubmit:e=>{b.renderLoading(!0),p.avatarUpdate(e).then((e=>{v.setNewAvatar(e),g["profile-pic-change"].disableButton(),b.close(),b.getForm().reset()})).catch((e=>console.error(e))).finally((()=>b.renderLoading(!1)))}});o.addEventListener("click",(()=>{b.open()})),c.addEventListener("click",(()=>{g["profile-form"].resetValidation(),f.open();const e=v.getUserInfo();f.setInputValues(e)}));const g={};(e=>{Array.from(document.querySelectorAll(e.formSelector)).forEach((s=>{const r=new t(e,s),i=s.getAttribute("id");g[i]=r,r.enableValidation()}))})(r)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsS0FDMUM4SyxFQUFlLGdCQUFnQnZILGtCQUMvQjBILEVBQWMxRixPQUNkLE1BQU1xRyxFQUFrQnZCLEVBQVNtQixjQUNqQ1AsRUFBY25FLGVBQWU4RSxFQUFnQixJQU0vQyxNQUFNZCxFQUFpQixDQUFDLEVBRUUvSixLQUNQbUIsTUFBTUMsS0FBSzFDLFNBQVMyQyxpQkFBaUJyQixFQUFPSSxlQUNwRG1CLFNBQVN0QixJQUNoQixNQUFNNkssRUFBWSxJQUFJQyxFQUFjL0ssRUFBUUMsR0FDdEMrSyxFQUFTL0ssRUFBS2dMLGFBQWEsTUFDakNsQixFQUFlaUIsR0FBVUYsRUFDekJBLEVBQVUvSixrQkFBa0IsR0FDNUIsRUFHSkEsQ0FBaUJmLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Db25mRGVsZXRlUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgbmFtZSwgbGluaywgX2lkLCBpc0xpa2VkIH0sXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZVRvZ2dsZSxcbiAgICBoYW5kbGVEZWxldGVCdXR0b25cbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5faXNMaWtlZCA9IGlzTGlrZWQ7XG4gICAgdGhpcy5faWQgPSBfaWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VUb2dnbGUgPSBoYW5kbGVMaWtlVG9nZ2xlO1xuICAgIHRoaXMuaGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQnV0dG9uO1xuICB9XG5cbiAgLy8gQ2FyZCB0ZW1wbGF0ZSBjcmVhdGlvbiBhbmQgY29weWluZ1xuICBfZ2V0Q2FyZFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcbiAgfVxuXG4gIC8vIExpc3RlbmVycyBjcmVhdGlvbiBmdW5jdGlvblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZVRvZ2dsZSh0aGlzLl9pc0xpa2VkKTtcbiAgICB9KTtcblxuICAgIC8vRGVsZXRlIGJ1dHRvblxuICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZURlbGV0ZUJ1dHRvbih0aGlzKTtcbiAgICB9KTtcblxuICAgIC8vSW1hZ2UgaGFuZGxlclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBMaWtlIFN0YXR1cyB0b2dnbGVyXG4gIHVwZGF0ZUxpa2VTdGF0dXMoaXNMaWtlZCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIGlzTGlrZWRcbiAgICAgID8gdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpXG4gICAgICA6IHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIC8vIENhcmQgY3JlYXRpb24gYW5kIGxpc3RlbmVycyBzZXR0aW5nIGZ1bmN0aW9uXG4gIF9yZW5kZXJDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnVwZGF0ZUxpa2VTdGF0dXModGhpcy5faXNMaWtlZCk7XG4gIH1cblxuICAvLyBDYXJkIFJlbW92YWxcbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuXG4gIC8vIENhcmQgcmVuZGVyZXJcbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9yZW5kZXJDYXJkKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gY29uZmlnLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICB9XG5cbiAgLy8gdWx0aW1hdGUgbWV0aG9kIGZvciBmb3JtIHZhbGlkYXRpb25cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyBsb29rIGZvciB0aGUgaW5wdXRzIGFuZCB0aGUgc3VibWl0IGJ1dHRvbiBpbnNpZGUgdGhlIGZvcm1cbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIC8vbG9vcCB0aHJvdWdoIHRoZSBpbnB1dHMgdG8gc2VlIGlmIGFsbCBpcyB2YWxpZFxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xuICAgICAgICAvL2NoZWNrIGlucHV0IHZhbGlkaXR5XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAvL2Rpc2FibGUgdGhlIGJ1dHRvbiBpZiBpbnB1dCBpcyBub3QgdmFsaWRcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTsgLy8gY2hlY2tcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgLy8gY2hlY2sgc2hvdWxkIHdlIHBhc3MgaGVyZSBjb25maWdcbiAgICAvLyBpZiBpbnB1dCBpcyBub3QgdmFsaWQgLSB3ZSdkIGxpa2UgdG8gdGFrZSB0aGUgdmFsaWRhdGlvbiBtZXNzYWdlLFxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiI1wiICsgYCR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIC8vIEFkZCBlcnJvciBjbGFzcyB0byB0aGUgaW5wdXQgYW5kIHNob3cgZGlzcGxheSBlcnJvciBtZXNzYWdlLlxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiI1wiICsgYCR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAvLyBpZiBhbGwgdGhlIGlucHV0cyBhcmUgY29ycmVjdFxuICAgIC8vIHJlc2V0IGVycm9yIG1lc3NhZ2VzXG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIC8vZm9yIGNoZWNraW5nIHRoZSBpbnB1dCB2YWxpZGl0eVxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVG9nZ2xpbmcgdGhlIGJ1dHRvbiBzdGF0ZVxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSBcIlwiO1xuICAgIH0pO1xuICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsIi8vICAge1xuLy8gICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxuLy8gICB9LFxuXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuLy8gICB9LFxuXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4vLyAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuLy8gICB9LFxuXG4vLyAgIHtcbi8vICAgICBuYW1lOiBcIkxhdGVtYXJcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcbi8vICAgfSxcblxuLy8gICB7XG4vLyAgICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcbi8vICAgfSxcblxuLy8gICB7XG4vLyAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuLy8gICB9LFxuLy8gXTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgcG9wdXBJbWFnZVNlbGVjdG9yOiBcIi5wb3B1cF9faW1hZ2VcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG4gIGNsb3NlQnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19jbG9zZVwiLFxuICBwb3B1cDogXCIucG9wdXBcIixcbiAgY2FyZHNMaXN0U2VsZWN0b3I6IFwiLmNhcmRzX19saXN0XCIsXG4gIGNhcmRTZWxlY3RvcjogXCIuY2FyZFwiLFxufTtcblxuLy8gVGVtcGxhdGVzXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID1cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG5cbi8vIFZhcmlhYmxlc1xuZXhwb3J0IGNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVRpdGxlID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTdWJ0aXRsZSA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19zdWJ0aXRsZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVNb2RhbElucHV0TmFtZSA9IHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9bmFtZV1cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU1vZGFsSW5wdXRTdWJ0aXRsZSA9XG4gIHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9ZGVzY3JpcHRpb25dXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnByb2ZpbGVfX2F2YXRhcl9jb250YWluZXJcIlxuKTtcblxuLy8gVmFyaWFibGVzIGZvciB0aGUgQWRkIFBsYWNlIE1vZGFsXG5leHBvcnQgY29uc3QgbW9kYWxBZGRDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRFbGVtZW50XCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsQWRkQ2FyZElucHV0UGxhY2UgPVxuICBtb2RhbEFkZENhcmQucXVlcnlTZWxlY3RvcihcIltuYW1lPXRpdGxlXVwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbEFkZENhcmRJbnB1dFVybCA9IG1vZGFsQWRkQ2FyZC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9dXJsXVwiKTtcblxuLy8gVmFyaWFibGVzIGZvciBpbWFnZSBtb2RhbFxuZXhwb3J0IGNvbnN0IG1vZGFsSW1hZ2VQcmV2aWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWFnZU9wZW5cIik7XG5leHBvcnQgY29uc3QgbW9kYWxJbWFnZSA9IG1vZGFsSW1hZ2VQcmV2aWV3LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsVGl0bGVTbWFsbCA9IG1vZGFsSW1hZ2VQcmV2aWV3LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnBvcHVwX190aXRsZS1zbWFsbFwiXG4pO1xuXG4vLyBCdXR0b25zXG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkVkaXQgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuXG4vLyBGb3Jtc1xuZXhwb3J0IGNvbnN0IG1vZGFsQWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcIm5ldy1jYXJkLWZvcm1cIl07XG5leHBvcnQgY29uc3QgcHJvZmlsZU1vZGFsRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1mb3JtXCJdO1xuXG4vLyBTcGlubmVyXG5leHBvcnQgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3Bpbm5lclwiKTtcbiIsImNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMucG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgdGhpcy5wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMucG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIC8vIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2VcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLnBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5fZGVmYXVsdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKVxuICAgICk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vIFVzZXIgSW5wdXQgdmFsdWVzIGdldHRlciBhbmQgcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIHRoZW1cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IHRoaXMuX2lucHV0TGlzdC5yZWR1Y2UoKGFjYywgaW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUgfSA9IGlucHV0O1xuICAgICAgYWNjW25hbWVdID0gdmFsdWU7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4gdXNlcklucHV0O1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9kZWZhdWx0QnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cblxuICAvLyBVc2VyIGlucHV0IHZhbHVlcyBzZXR0ZXJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0Rm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9wdXBGb3JtO1xuICB9XG5cbiAgLy8gRXZlbnQgTGlzdGVuZXJzIHNldHRlciBhbmQgc3VibWl0IGxvZ2ljc1xuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KGlucHV0VmFsdWVzKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XG4iLCIvLyBJbXBvcnQgYWxsIHRoZSBjbGFzc2VzXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7XG4gIGFkZENhcmRCdXR0b24sXG4gIHByb2ZpbGVBdmF0YXJDb250YWluZXIsXG4gIHByb2ZpbGVCdXR0b25FZGl0LFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBDb25maXJtRGVsZXRlUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ29uZkRlbGV0ZVBvcHVwLmpzXCI7XG5cbi8vIEFwaSBJbml0aWFsaXphdGlvblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImZiZDQzZjM5LWJjNmYtNGZmMS1iODVjLTNhOGU2M2EwYjAyZFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vIENBUkRTIEFORCBQQUdFIFJFTkRFUklOR1xuLy8gR2V0dGluZyB0aGUgdXNlciBkYXRhIGFuZCB0aGUgaW5pdGlhbCBjYXJkcyBvbiB0aGUgaW5pdGlhbCBwYWdlIGxvYWRpbmdcblxubGV0IGNhcmRzTGlzdDsgLy8g0L/RgNCw0LLQuNC70YzQvdC+INC70Lgg0YLQsNC6Pz8/INCR0YvQu9C+INGA0LDQvdGM0YjQtSDQutCw0Log0LLQvdC40LfRgywg0YLQtdC/0LXRgNGMIENhcmRzTGlzdCDQvtCx0YrRj9Cy0LvQtdC90LAg0YLQsNC6LCDRh9GC0L7QsdGLINC40YHQv9C+0LvRjNC30L7QstCw0YLRjNGB0Y8g0LIg0L/QvtC/0LDQv9C1XG5cbmFwaVxuICAubG9hZFBhZ2VDb250ZW50KClcbiAgLnRoZW4oKFtpbml0aWFsQ2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogdXNlckRhdGEuYWJvdXQsXG4gICAgICBhdmF0YXI6IHVzZXJEYXRhLmF2YXRhcixcbiAgICB9KTtcblxuICAgIGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShuZXdDYXJkKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb25maWcuY2FyZHNMaXN0U2VsZWN0b3JcbiAgICApO1xuXG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuXG4vLyBDYXJkIGNyZWF0aW9uIGZ1bmN0aW9uXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcbiAgZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljaygpIHtcbiAgICBpbWFnZVBvcHVwLm9wZW4oaXRlbSk7XG4gICAgaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTGlrZVRvZ2dsZShpc0xpa2VkKSB7XG4gICAgaWYgKGlzTGlrZWQpIHtcbiAgICAgIGFwaVxuICAgICAgICAuZGlzbGlrZUNhcmQoaXRlbS5faWQpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjYXJkRWxlbWVudC51cGRhdGVMaWtlU3RhdHVzKHJlcy5pc0xpa2VkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaVxuICAgICAgICAubGlrZUNhcmQoaXRlbS5faWQpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjYXJkRWxlbWVudC51cGRhdGVMaWtlU3RhdHVzKHJlcy5pc0xpa2VkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmRFbGVtZW50KSB7XG4gICAgY29uZmlybVBvcHVwLm9wZW4oaXRlbS5faWQsIGNhcmRFbGVtZW50KTtcbiAgfVxuXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoXG4gICAgaXRlbSxcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXG4gICAgLy8gaW1hZ2UgcG9wdXAgY2FsbGJhY2tcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIC8vIGxpa2UgaGFuZGxlciBjYWxsYmFja1xuICAgIGhhbmRsZUxpa2VUb2dnbGUsXG4gICAgLy8gZGVsZXRlIHBvcHVwIG9wZW4gaGFuZGxlclxuICAgIGhhbmRsZURlbGV0ZUJ1dHRvblxuICApO1xuICByZXR1cm4gY2FyZEVsZW1lbnQuZ2V0VmlldygpO1xufVxuXG4vLyBQT1BVUFNcblxuLy8gQ3JlYXRpbmcgYSBjYXJkIGltYWdlIHBvcHVwXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlT3BlblwiKTtcblxuLy8gQ2FyZCBkZWxldGUgY29uZmlybWF0aW9uIHBvcHVwXG5jb25zdCBjb25maXJtUG9wdXAgPSBuZXcgQ29uZmlybURlbGV0ZVBvcHVwKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjY2FyZERlbGV0ZVwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoY2FyZElkLCBjYXJkRWxlbWVudCkgPT4ge1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZElkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmVDYXJkKCk7XG4gICAgICAgIGNvbmZpcm1Qb3B1cC5zZXRDYXJkSWQobnVsbCk7XG4gICAgICAgIGNvbmZpcm1Qb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgdGhlIGNhcmRcIiwgZXJyKSk7XG4gIH0sXG59KTtcblxuLy8gQ3JlYXRpbmcgYSBwb3B1cCB3aXRoIGFkZCBjYXJkIGZvcm1cbmNvbnN0IG5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjYWRkRWxlbWVudFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAodXNlcklucHV0KSA9PiB7XG4gICAgbmV3Q2FyZFBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgYXBpXG4gICAgICAuYWRkTmV3Q2FyZCh1c2VySW5wdXQpXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdVc2VyQ2FyZCA9IGNyZWF0ZUNhcmQoe1xuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICAgICAgX2lkOiBkYXRhLl9pZCwgLy8g0KDQsNC30L7QsdGA0LDRgtGM0YHRjyDRgSDQv9C10YDQtdC00LDRh9C10Lkg0LTQsNC90L3Ri9GFINC/0YDQuCDRgdC+0LfQtNCw0L3QuNC4INC60LDRgNGC0L7Rh9C60LhcbiAgICAgICAgICBpc0xpa2VkOiBkYXRhLmlzTGlrZWQsXG4gICAgICAgIH0pO1xuICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShuZXdVc2VyQ2FyZCk7IC8vINC30LTQtdGB0Ywg0LrQvtC90YLQtdC50L3QtdGAINCyINGB0YLQsNGC0YPRgdC1IHVuZGVmaW5lZCwg0L/QvtGC0L7QvNGDINGH0YLQviDQvtC9INC90LUg0LIg0LPQu9C+0LHQsNC70YzQvdC+0Lwg0YHQutC+0YPQv9C1XG4gICAgICAgIGZvcm1WYWxpZGF0b3JzW1wibmV3LWNhcmQtZm9ybVwiXS5kaXNhYmxlQnV0dG9uKCk7XG4gICAgICAgIG5ld0NhcmRQb3B1cC5nZXRGb3JtKCkucmVzZXQoKTtcbiAgICAgICAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IG5ld0NhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG4gIH0sXG59KTtcblxuLy8gQWRkIG5ldyBjYXJkIGJ1dHRvbiBoYW5kbGVyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG5ld0NhcmRQb3B1cC5vcGVuKCk7XG59KTtcblxuLy8gVXNlckluZm8gUG9wdXBcbmNvbnN0IHVzZXJQb3B1cEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiI3Byb2ZpbGVDaGFuZ2VcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHVzZXJJbnB1dCkgPT4ge1xuICAgIHVzZXJQb3B1cEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5lZGl0UHJvZmlsZURhdGEodXNlcklucHV0KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5hYm91dCxcbiAgICAgICAgfSk7XG4gICAgICAgIHVzZXJQb3B1cEZvcm0uY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxuICAgICAgLmZpbmFsbHkoKCkgPT4gdXNlclBvcHVwRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG4gIH0sXG59KTtcblxuLy8gUFJPRklMRSBJTkZPIENIQU5HRVNcblxuLy8gVXNlciBJbmZvIGFuZCBBdmF0YXIgQ2hhbmdlXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgZGVzY3JpcHRpb25TZWxlY3RvcjogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxufSk7XG5cbi8vUHJvZmlsZSBBdmF0YXIgQ2hhbmdlXG5jb25zdCBwcm9maWxlUGljUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiI3Byb2ZpbGVQaWNDaGFuZ2VcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0VmFsdWVzKSA9PiB7XG4gICAgcHJvZmlsZVBpY1BvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgYXBpXG4gICAgICAuYXZhdGFyVXBkYXRlKGlucHV0VmFsdWVzKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0TmV3QXZhdGFyKGRhdGEpO1xuICAgICAgICBmb3JtVmFsaWRhdG9yc1tcInByb2ZpbGUtcGljLWNoYW5nZVwiXS5kaXNhYmxlQnV0dG9uKCk7XG4gICAgICAgIHByb2ZpbGVQaWNQb3B1cC5jbG9zZSgpO1xuICAgICAgICBwcm9maWxlUGljUG9wdXAuZ2V0Rm9ybSgpLnJlc2V0KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHByb2ZpbGVQaWNQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG4gIH0sXG59KTtcblxucHJvZmlsZUF2YXRhckNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9maWxlUGljUG9wdXAub3BlbigpO1xufSk7XG5cbnByb2ZpbGVCdXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xuICB1c2VyUG9wdXBGb3JtLm9wZW4oKTtcbiAgY29uc3QgY3VycmVudFVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgdXNlclBvcHVwRm9ybS5zZXRJbnB1dFZhbHVlcyhjdXJyZW50VXNlckRhdGEpO1xufSk7XG5cbi8vVkFMSURBVElPTlxuXG4vLyBVbml2ZXJzYWwgaGFuZGxlciBmb3IgZm9ybXMgdmFsaWRhdGlvblxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtKSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtKTtcbiAgICBjb25zdCBmb3JtSWQgPSBmb3JtLmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1JZF0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpcm1Qb3B1cDtcbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfY2hlY2tUaGVBcGlSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9IGVsc2UgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0VXNlckRhdGEoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrVGhlQXBpUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBlZGl0UHJvZmlsZURhdGEodXNlcklucHV0KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiB1c2VySW5wdXQubmFtZSxcbiAgICAgICAgYWJvdXQ6IHVzZXJJbnB1dC5kZXNjcmlwdGlvbixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tUaGVBcGlSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tUaGVBcGlSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQobmV3Q2FyZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuZXdDYXJkLnRpdGxlLFxuICAgICAgICBsaW5rOiBuZXdDYXJkLnVybCxcbiAgICAgICAgaXNMaWtlZDogbmV3Q2FyZC5pc0xpa2VkLFxuICAgICAgICBfaWQ6IG5ld0NhcmQuX2lkLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1RoZUFwaVJlc3BvbnNlKHJlcykpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrVGhlQXBpUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrVGhlQXBpUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrVGhlQXBpUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBhdmF0YXJVcGRhdGUoaW5wdXRWYWx1ZXMpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGlucHV0VmFsdWVzLnVybCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tUaGVBcGlSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGxvYWRQYWdlQ29udGVudCgpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJEYXRhKCldO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5pbWFnZUVsZW1lbnQgPSB0aGlzLnBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbiAgICB0aGlzLmNhcHRpb25FbGVtZW50ID0gdGhpcy5wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLnBvcHVwX190aXRsZS1zbWFsbFwiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcbiAgICB0aGlzLmltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xuICAgIHRoaXMuaW1hZ2VFbGVtZW50LmFsdCA9IG5hbWU7XG4gICAgdGhpcy5jYXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmNsYXNzIENvbmZpcm1EZWxldGVQb3B1cCBleHRlbmRzIFBvcHVwIHtcbiAgY2FyZElkID0gbnVsbDtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLnBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vIEV2ZW50IExpc3RlbmVycyBzZXR0ZXIgYW5kIHN1Ym1pdCBsb2dpY3NcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQgJiZcbiAgICAgICAgdHlwZW9mIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICApIHtcbiAgICAgICAgLy8g0LfQtNC10YHRjCDQtNC+0LvQttC90LAg0L/QvtC00YLRj9Cz0LjQstCw0YLRjNGB0Y8g0LjQvdGE0L7RgNC80LDRhtC40Y8g0L4g0LrQsNGA0YLQvtGH0LrQtSwg0LrQvtGC0L7RgNCw0Y8g0LHRg9C00LXRgiDRg9C00LDQu9C10L3QsFxuICAgICAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQodGhpcy5jYXJkSWQsIHRoaXMuY2FyZEVsZW1lbnQpOyAvLyDRgdGO0LTQsCDQvdCw0LTQviDQv9C10YDQtdC00LDQstCw0YLRjCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQutCw0YDRgtC+0YfQutC1XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldENhcmRJZChjYXJkSWQpIHtcbiAgICB0aGlzLmNhcmRJZCA9IGNhcmRJZDtcbiAgfVxuXG4gIHNldENhcmRFbGVtZW50KGNhcmRFbGVtZW50KSB7XG4gICAgdGhpcy5jYXJkRWxlbWVudCA9IGNhcmRFbGVtZW50O1xuICB9XG5cbiAgb3BlbihjYXJkSWQsIGNhcmRFbGVtZW50KSB7XG4gICAgdGhpcy5zZXRDYXJkSWQoY2FyZElkKTtcbiAgICB0aGlzLnNldENhcmRFbGVtZW50KGNhcmRFbGVtZW50KTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlybURlbGV0ZVBvcHVwO1xuIiwiY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb25TZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgLy8gVXNlciBDdXJyZW50IEluZm8gZ2V0dGVyXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjLFxuICAgIH07XG4gIH1cblxuICAvLyBVc2VyJ3MgbmV3IGluZm8gc2V0dGluZ1xuICBzZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcbiAgICBpZiAoYXZhdGFyKSB7XG4gICAgICAvLyB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcbiAgICAgIHRoaXMuc2V0TmV3QXZhdGFyKHsgYXZhdGFyIH0pOyAvLyDQvdC1INGA0LDQsdC+0YLQsNC10YIg0LfQsNC80LXQvdCwINGN0YLQvtC5INGB0YLRgNC+0LrQuCDQvdCwINC80LXRgtC+0LRcbiAgICB9XG4gIH1cblxuICBzZXROZXdBdmF0YXIoZGF0YSkge1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZUxpa2VUb2dnbGUiLCJoYW5kbGVEZWxldGVCdXR0b24iLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsIl9pc0xpa2VkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZUxpa2VUb2dnbGUiLCJfZ2V0Q2FyZFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX3RyYXNoQnV0dG9uIiwiX2NhcmRJbWFnZSIsInVwZGF0ZUxpa2VTdGF0dXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJfcmVuZGVyQ2FyZCIsIl9jYXJkRWxlbWVudCIsIl9jYXJkVGl0bGUiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsInJlbW92ZUNhcmQiLCJnZXRWaWV3IiwiY29uZmlnIiwiZm9ybSIsIl9mb3JtIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJkaXNhYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJfZW5hYmxlQnV0dG9uIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJyZXNldFZhbGlkYXRpb24iLCJ2YWx1ZSIsIlNlY3Rpb24iLCJjb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsImNsZWFyIiwiaW5uZXJIVE1MIiwicmVuZGVySXRlbXMiLCJlbGVtZW50IiwiYWRkSXRlbSIsInByZXBlbmQiLCJwb3B1cEltYWdlU2VsZWN0b3IiLCJjbG9zZUJ1dHRvblNlbGVjdG9yIiwicG9wdXAiLCJjYXJkc0xpc3RTZWxlY3RvciIsInByb2ZpbGUiLCJwcm9maWxlTW9kYWwiLCJwcm9maWxlQXZhdGFyQ29udGFpbmVyIiwibW9kYWxBZGRDYXJkIiwiZ2V0RWxlbWVudEJ5SWQiLCJtb2RhbEltYWdlUHJldmlldyIsInByb2ZpbGVCdXR0b25FZGl0IiwiYWRkQ2FyZEJ1dHRvbiIsImZvcm1zIiwicG9wdXBTZWxlY3RvciIsInBvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9kZWZhdWx0QnV0dG9uVGV4dCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwicmVkdWNlIiwiYWNjIiwiaW5wdXQiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJzZXRJbnB1dFZhbHVlcyIsImRhdGEiLCJnZXRGb3JtIiwiaW5wdXRWYWx1ZXMiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVVJMIiwiX2hlYWRlcnMiLCJfY2hlY2tUaGVBcGlSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRVc2VyRGF0YSIsImZldGNoIiwidGhlbiIsImVkaXRQcm9maWxlRGF0YSIsInVzZXJJbnB1dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJkZXNjcmlwdGlvbiIsImdldEluaXRpYWxDYXJkcyIsImFkZE5ld0NhcmQiLCJuZXdDYXJkIiwidGl0bGUiLCJ1cmwiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsImF2YXRhclVwZGF0ZSIsImF2YXRhciIsImxvYWRQYWdlQ29udGVudCIsInByb21pc2VzIiwiYWxsIiwiYXV0aG9yaXphdGlvbiIsImNhcmRzTGlzdCIsImNyZWF0ZUNhcmQiLCJpdGVtIiwiY2FyZEVsZW1lbnQiLCJDYXJkIiwiaW1hZ2VQb3B1cCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY29uZmlybVBvcHVwIiwiaW5pdGlhbENhcmRzIiwidXNlckRhdGEiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiaW1hZ2VFbGVtZW50IiwiY2FwdGlvbkVsZW1lbnQiLCJzZXRDYXJkSWQiLCJzZXRDYXJkRWxlbWVudCIsIm5ld0NhcmRQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJuZXdVc2VyQ2FyZCIsImZvcm1WYWxpZGF0b3JzIiwicmVzZXQiLCJmaW5hbGx5IiwidXNlclBvcHVwRm9ybSIsIm5hbWVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9kZXNjcmlwdGlvbkVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImdldFVzZXJJbmZvIiwiX3JlZjIiLCJzZXROZXdBdmF0YXIiLCJwcm9maWxlUGljUG9wdXAiLCJjdXJyZW50VXNlckRhdGEiLCJ2YWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUlkIiwiZ2V0QXR0cmlidXRlIl0sInNvdXJjZVJvb3QiOiIifQ==